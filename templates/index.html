<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="/static/style.css">
	<script
  		src="https://code.jquery.com/jquery-3.4.1.min.js"
  		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  		crossorigin="anonymous"></script>
  	<!--jquery cdn to allow working with jquery-->
	<title></title>
</head>
<body>
	<h2 class="panel-heading">WELCOME TO THE THUNDERDOME</h2>
	<select id="genreSelector">
		<option value="">Select genre please</option>
		{% for genre in genres %}
			<option value="{{genre.genre_id}}">
				{{genre.name}}
			</option>
		{% endfor %}	
	</select>
	<!--for loop that iterates through render_template arg, selector element-->
	<div id="genrecontent"></div>
	<!--placeholder div for genrecontent-->
	
	<div id="modalbox" style="display: none;">
		asdfasdf
	</div>	
</body>
<script type="text/javascript">
	const contentelement = document.getElementById("genrecontent")
	const modalelement = document.getElementById("modalbox")

	function attachGenreButtonEventListeners() {
		//get the modal
		//get button that opens the modal	
		var buttn = document.getElementById("addmoviebutton")
		//when the user clicks the button, open the modal
		buttn.onclick = function() {
			console.log("clicked")
			modalelement.style.display = "block";
		}	
	}
  	function getGenre(event) {
  		$.get("/genre/" + event.target.value, template => {
  			contentelement.innerHTML = template
  			attachGenreButtonEventListeners()
  		})
  	//function gets genre concatinates that with the users selection and inserts the result into the the paths'(genre.html) template
  	}
  	const selectElement = document.getElementById("genreSelector")
  	//constant variable assigned to the function gets the selection from genreSelector
  	selectElement.addEventListener("change", getGenre)
  	//

 </script>
</html>